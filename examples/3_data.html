<!doctype html>
<html>
<head>
    <title>Example 3: data</title>
    <link rel="stylesheet" href="./build/example.css" />
    <script src="./build/track.latest.min.js"></script>
</head>
<body class="o-techdocs">
<header class="o-techdocs-page-header">
    <h1>Example 3: <code>data</code></h1>
</header>
<header class="o-techdocs-page-header__lead">
    <h2>Call <code>Track.data</code> with the following arguments.</h2>
</header>

<section class="o-techdocs-content">
    <form id="example">
        <fieldset id="config">
            <legend>Config</legend>

            <div class="fields"></div>

        </fieldset>

        <fieldset id="params">
            <legend>Parameters</legend>

            <div class="fields"></div>

        </fieldset>

        <p><input type="submit"></p>
    </form>

    <h3>Javascript</h3>
    <pre id="javascript"></pre>

    <h3>Messages</h3>
    <ol id="messages"></ol>
</section>

<script src="./build/jquery.min.js"></script>
<script src="./build/util.js"></script>
<script src="./helper.js"></script>
<script>
    (function ($) {
        var util = require('util');

        var
                config = {
                    environment: 'test',
                    developer: 'true',
                    server: 'http://ftweb03299-lvpr-uk-d.osb.ft.com/',
                    // Site
                    channel : 'desktop',
                    // Page
                    'url': 'http://www.ft.com/home/uk',
                    'assetType': 'front',
                    'hurdle': 'hx',
                    // User
                    'userID': 'NC40NTUuODExODM1NTkyNjEyNi4xMzkzNDkzMjQ0ODU5LjZmM2U4YmFj*',
                    'cohort': ['3', '1', '2'],
                    'passportID': '4009049153',
                    'country': 'GBR',
                    'region': 'london',
                    'metroArea': 'islington'
                },

                params = {
                    'hurdle': ['h1', 'h2', 'h3', 'h4']
                };

        $('#config .fields').append(renderConfig(config));
        $('#params .fields').append(renderParams(params));

        Track.init(config);

        $('#example').on('submit', function (event) {
            event.preventDefault();

            var data = $(this).serializeObject();

            $('#javascript').text('Track.data(' + util.inspect(data) + ');');

            Track.data(data);
        });
    }(jQuery));
</script>

</body>
</html>