<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Example 4: page</title>
    <link rel="stylesheet" href="../build/examples/example.css" />
    <script src="../build/track.latest.min.js"></script>
</head>
<body>

<h1>Example 4: <code>page</code></h1>

<h2>Call <code>Track.page</code> with the following arguments.</h2>

<form id="example">
    <fieldset id="config">
        <legend>Config</legend>

        <div class="fields"></div>

    </fieldset>

    <fieldset id="params">
        <legend>Parameters</legend>

        <div class="fields"></div>

    </fieldset>

    <p><input type="submit"></p>
</form>

<h3>Javascript</h3>
<pre id="javascript"></pre>

<h3>Messages</h3>
<ol id="messages"></ol>


<script src="../src/resources/vendor/jquery/jquery.min.js"></script>
<script src="../build/examples/util.js"></script>
<script src="helper.js"></script>
<script>
    (function ($) {
        var util = require('util');

        var
                config = {
                    developer: 'true',
                    server: 'http://ftweb03299-lvpr-uk-d/test'
                },
                params = {
                    // Site
                    channel : ['desktop', 'html5', 'epaper', 'flipboard'],
                    // Page
                    'url': ['http://www.ft.com/home/uk', document.location],
                    'referrer': '',
                    'uuid': '',
                    'pageSubLevel': ['', '0', '1', '2', '3'],
                    'siteMap': ['Sections.Front page', 'Sections.World'],
                    'title': 'World business, finance, and political news from the Financial Times - FT.com',
                    'assetType': ['front', 'story', 'blog', 'video', 'section', 'page'],
                    'edition': ['UK', 'USA'],
                    'brand': '',
                    'theme': '',
                    'hurdle': ['', 'hx', 'h1', 'h2'],
                    'error': '',
                    'searchQuery': '',
                    // User
                    'cohort': ['3', '1', '2'],
                    'passportID': '4009049153',
                    'country': 'GBR',
                    'region': 'london',
                    'metroArea': 'islington',
                    // Marketing
                    'ftcamp': '',
                    'campaign': '',
                    // Implementation
                    'offlineLag': ''
                };

        $('#config .fields').append(renderConfig(config));
        $('#params .fields').append(renderParams(params));

        Track.init(config);

        $('#example').on('submit', function (event) {
            event.preventDefault();

            var data = $(this).serializeObject();

            $('#javascript').text('Track.page(' + util.inspect(data) + ');');

            Track.page(data);
        });
    }(jQuery));
</script>

</body>
</html>